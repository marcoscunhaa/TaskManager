<ul class="nav">
    <li class="nav-item">
      <a class="nav-link active" (click)="onHideOrShow()" aria-current="page" style="cursor: pointer;"><i
          class="bi bi-plus-lg"></i>New Task</a>
    </li>
    <li class="nav-item">
      <a class="nav-link active" (click)="onLogout()" aria-current="page" href="/login"><i
          class="bi bi-power"></i>Logout</a>
    </li>
    <li class="nav-item">
      <a class="nav-welcome">
        <img src="data:image/png;base64,{{user.imageProfile}}" alt="User's Image">
        Welcome, {{user.fullName.split(' ')[0]}}
      </a>
    </li>
  </ul>
  
  <!--Modal-->
  <div class="modal fade show" [style.display]="modal ? 'none':'block'" tabindex="-1" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form>
          <div class="modal-header">
            <h1 class="modal-title fs-4" id="myModalLabel">Creating new activity</h1>
            <button type="button" class="btn-close" (click)="onHideOrShow()" data-bs-dismiss="modal"
              aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class="form-group mt-2">
                <label>Assigned:</label>
                <select class="form-select" [(ngModel)]="task.assignedUser" name="assignedUser">
                  <option value='' selected disabled>Select the assigned collaborator</option>
                  @for(item of users; track 1){
                  <option>{{item.fullName}}</option>
                  }
                </select>
              </div>
              <div class="form-group mt-2">
                <label for="inputNome">Title of task:</label>
                <input type="text" [(ngModel)]="task.title" name="title" class="form-control" id="inputNome"
                  placeholder="Write your activity...">
              </div>
              <div class="form-group mt-2">
                <label>Priority:</label>
                <select class="form-select" [(ngModel)]="task.priority" name="priority">
                  <option value='' selected disabled>Select priority</option>
                  @for(p of priority; track 1){
                  <option>{{p}}</option>
                  }
                </select>
              </div>
              <div class="form-group mt-2">
                <label>Status:</label>
                <select class="form-select" [(ngModel)]="task.status" name="status">
                  <option value='' selected disabled>Select status</option>
                  @for(s of status; track 1){
                  <option>{{s}}</option>
                  }
                </select>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" (click)="onHideOrShow()" class="btn btn-danger"
              data-bs-dismiss="modal">Cancel</button>
            <button type="submit" (click)="onSubmit()" (click)="onHideOrShow()" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>